(function(e,t){HoldToDelete=function(e,t){this.dom_element=this.getDomElement(e);this.options=this.getOptions(t);this.timeout_settings=this.getTimeoutSettings();this.mouseup_check=false;this.reference_element=false;if(this.dom_element){this.registerClickEvents()}};HoldToDelete.prototype.getDomElement=function(e){if(e&&typeof e==="string"){return this.selector(e,false)}else if(e&&this.isDomElement(e)===true){return e}else{throw new Error("No element was specified for HoldToDelete to use. Please specify one.")}};HoldToDelete.prototype.getTimeoutSettings=function(){var e={};e.seconds=this.options.seconds*1e3;e.callback_timeout=this.options.timeout*1e3;return e};HoldToDelete.prototype.selector=function(e,n){var r=t.querySelectorAll(e);if(n){return r[0]}else{return r}};HoldToDelete.prototype.selectFeedbackElement=function(e){var t=e.nextSibling;if(t&&t.className=="holdtodelete"&&t.nodeName=="I"){return t}else{return false}};HoldToDelete.prototype.getOptions=function(e){var t={height:"5px",color:"#FF0000",css:{},seconds:3,timeout:0,remove_feedback:true};if(e&&typeof e==="object"){for(var n in e){if(e.hasOwnProperty(n)&&t.hasOwnProperty(n)&&typeof t[n]===typeof e[n]){t[n]=e[n]}else{throw new Error(n+" was not specified properly. It should be the data type "+typeof t[n])}}}return e};HoldToDelete.prototype.isDomElement=function(e){for(var t=0;t<e.length;t++){if(typeof e[t]=="object"&&"nodeType"in e[t]&&e[t].nodeType===1&&e[t].cloneNode){return true}}};HoldToDelete.prototype.registerClickEvents=function(){for(var e=0;e<this.dom_element.length;e++){var t=this.dom_element[e];t.addEventListener("mousedown",function(e){this.mouseDownHandler(e.srcElement)}.bind(this));t.addEventListener("mouseup",function(e){this.mouseUpHandler(e.srcElement);if(!this.anim_timer){this.removeReferenceElement()}}.bind(this));t.addEventListener("mouseleave",function(e){if(e.toElement!=this.selectFeedbackElement(e.srcElement)){this.mouseUpHandler(e.srcElement);if(!this.anim_timer){this.removeReferenceElement()}}}.bind(this))}};HoldToDelete.prototype.mouseDownHandler=function(e){this.setMouseupCheck(true);this.setReferenceElement(e);var t=this.getFeedbackObject(this.reference_element);var n=this.insertFeedbackElement(t);this.callEvent("holdtodelete_started");var r=(new Date).getTime();this.anim_timer=setInterval(function(){var e=Math.min(1,((new Date).getTime()-r)/this.timeout_settings.seconds);n.style.width=0+e*(t.width-0)+"px";this.callEvent("holdtodelete_running");if(e===1){this.setMouseupCheck(false);clearInterval(this.anim_timer);if(!this.mouseup_check){this.callEvent("holdtodelete_before_timeout");this.callback_timer=setTimeout(function(){this.callEvent("holdtodelete_finished");if(this.options.remove_feedback){this.setMouseupCheck(true);this.mouseUpHandler(this.reference_element)}this.removeReferenceElement()}.bind(this),this.timeout_settings.callback_timeout)}}}.bind(this),1)};HoldToDelete.prototype.mouseUpHandler=function(e){clearInterval(this.anim_timer);if(this.mouseup_check==true){this.removeFeedbackElement(e)}};HoldToDelete.prototype.setReferenceElement=function(e){this.reference_element=e};HoldToDelete.prototype.removeReferenceElement=function(){this.reference_element=false};HoldToDelete.prototype.constructFeedbackElement=function(){var e=t.createElement("i");e.className="holdtodelete";e.style.cssText+="border-top-style: solid;";e.style.cssText+="display: block;";e.style.cssText+="position: absolute;";e.style.cssText+="width: 0px;";e.style.cssText+="cursor: pointer;";return e};HoldToDelete.prototype.insertFeedbackElement=function(e){var t=this.constructFeedbackElement();t.style.cssText+="border-top-width: "+e.height+"";t.style.cssText+="border-top-color: "+e.color+"";t.style.cssText+="top: "+e.top+"px;";t.style.cssText+="left: "+e.left+"px;";t.style.cssText+="opacity: "+e.opacity+";";if(typeof e==="object"){for(var n in e.css){t.style.cssText+=n+": "+e.css[n]+";"}}if(e.hasOwnProperty("border_left_radius")){t.style.cssText+="border-top-left-radius: "+e.border_left_radius+";"}if(e.hasOwnProperty("border_right_radius")){t.style.cssText+="border-top-right-radius: "+e.border_right_radius+";"}e.clicked_element.parentNode.insertBefore(t,e.clicked_element.nextSibling);return t};HoldToDelete.prototype.getFeedbackObject=function(e){var t={};t.clicked_element=e;t.height=this.options.height;t.color=this.options.color;t.css=this.options.css;t.opacity=this.options.opacity;t.width=e.offsetWidth;t.top=e.offsetTop;t.left=e.offsetLeft;if(window.getComputedStyle){t.border_left_radius=window.getComputedStyle(e,null).getPropertyValue("border-top-left-radius");t.border_right_radius=window.getComputedStyle(e,null).getPropertyValue("border-top-right-radius")}return t};HoldToDelete.prototype.removeFeedbackElement=function(e){var t=this.selectFeedbackElement(e);if(t){t.parentNode.removeChild(t)}};HoldToDelete.prototype.setMouseupCheck=function(e){if(typeof e==="boolean"){this.mouseup_check=e}};HoldToDelete.prototype.on=function(e,n){if(t.addEventListener){t.addEventListener(e,function(){n(this.reference_element,this.selectFeedbackElement(this.reference_element))}.bind(this),false)}};HoldToDelete.prototype.callEvent=function(e){var n=["holdtodelete_started","holdtodelete_running","holdtodelete_before_timeout","holdtodelete_finished"];if(t.createEvent&&typeof e==="string"&&n.indexOf(e)>-1){var r=t.createEvent("Event");r.initEvent(e,true,true);t.dispatchEvent(r)}};e.HoldToDelete=HoldToDelete})(window,window.document)